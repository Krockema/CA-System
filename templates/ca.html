<div class="container">
  <div class="row" >
    <div class="col-xs-12">
      <h1>.</h1>
      <h3>Cell System</h3>
    </div>
  </div>
    <div class="row" >
      <div class="col-xs-7">
        <!--map content-->
        <svg id="cellgrid" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
             ng-attr-height="{{map.heightPx +1}}" ng-attr-width="{{map.widthPx + 1}}">
            <g ng-repeat="row in map.map.grid">
                <rect ng-repeat="cell in row" ng-attr-x="{{cell.position.x * map.cellSize}}" ng-attr-y="{{cell.position.y * map.cellSize}}" ng-attr-width="{{map.cellSize}}" ng-attr-height="{{map.cellSize}}"
                      ng-class="{blocked:cell.isBlocked,current:cell.isCurrent,closed:cell.isVisited,start:cell.isStart, goal:cell.isGoal}"
                   ng-mousedown="map.clickOnCell(cell)" ng-mouseover="map.mouseOverCell(cell, $event)" ng-attr-style="fill:{{cell.color}};"></rect>
            </g>
            <circle ng-attr-cx="{{map.map.center.x * map.cellSize}}" ng-attr-cy="{{map.map.center.y * map.cellSize}}" ng-attr-r="{{map.map.radius * map.cellSize}}" stroke="green" stroke-width="2" fill="transparent" />
        <!-- <div id="png-container"></div>
        <canvas id="canvas"></canvas> -->
      </div>
      <div class="col-xs-5">
        <!-- form content-->
        <form name="controllerForm">
            Current step: {{stepcounter}}<br><br>
            <input type="text" name="input" ng-model="initPercent" min="1" max="100" required size="2">
            <label> % - initial distribution</label><br>
            <input type="text" name="input" ng-model="dividePercent" min="1" max="100" required size="2">
            <label> % - divide percent</label><br>
            <input type="text" name="input" ng-model="flipPercent" min="1" max="100" required size="2">
            <label> % - flip percent</label> <br>
            <div role="alert">
              <span class="error" ng-show="controllerForm.input.$error.required">
                Required!</span>
            </div>
              <button type="button" class="btn btn-default btn-block" data-ng-click="runStepByStep()">Start</button>
              <button type="button" class="btn btn-default btn-block" data-ng-click="stopRun()">Stop</button>
              <input type="button" class="btn btn-default btn-block" ng-click="map.addRandomObstacles()" value="Add random blocks" />
              <input type="button" class="btn btn-default btn-block" ng-click="map.addObstaclesFromCenter()" value="Add from Center" />
              <button type="button" class="btn btn-default btn-block" data-ng-click="resetMap()">Reset</button>
              <button type="button" class="btn btn-default btn-block" ng-click="saveFile()">Save Results</button>
              <br/>
        </form>
      </div>
  </div>
  <h3>Analytics</h3>
  <div class="row">
      <div class="col-xs-3">
        <h4>Population</h4>
        <canvas id="line" name="line" class="chart chart-line" chart-data="ds_line"
          chart-labels="lbl_line" chart-legend="false" chart-series="series"
          chart-options="{ animationSteps : 0 }"
          chart-click="onClick">
        </canvas>
      </div>
      <div class="col-md-offset-1 col-xs-3">
        <h4>Cell Behavior</h4>
        <canvas id="pie" class="chart chart-pie"
          chart-data="ds_pie" chart-labels="lbl_pie" chart-options="{ animationSteps : 0 }">
        </canvas>
      </div>
      <div class="col-md-offset-1 col-xs-3">
        <!--<h4>Another Chart</h4>-->

      </div>
    </div>

  </div>
